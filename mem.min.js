!function(a){function b(){function a(a,b){return Array.prototype.slice.call(a,b)}return{_callbacks:[],on:function(a,b,c,d){this._callbacks.push({subject:a,eventName:b,action:c,once:d&&d.once,context:d&&d.context,args:d&&d.args})},off:function(a,b,c){this._callbacks=this._callbacks.filter(function(d){return a&&d.subject!==a?!0:b&&d.eventName!==b?!0:c&&d.action!==c?!0:!1})},trigger:function(b,c){var d=a(arguments,2);this._callbacks=this._callbacks.filter(function(a){var e=!a.once,f=a.args||[];if(a.subject!==b)return!0;if(a.eventName!==c)return!0;try{a.action.apply(a.context||b,f.concat(d))}catch(g){console&&console.error&&console.error(g)}return e})}}}"function"==typeof define&&define.amd?define("mem",[],b):a.mem=b()}(this);