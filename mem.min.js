!function(a){function b(){function a(a,b){return Array.prototype.slice.call(a,b)}var b={_callbacks:[],on:function(a,b,c,d){this._callbacks.push({subject:a,eventName:b,action:c,once:d&&d.once,context:d&&d.context,args:d&&d.args})},off:function(a,b,c){this._callbacks=this._callbacks.filter(function(d){return a&&d.subject!==a?!0:b&&d.eventName!==b?!0:c&&d.action!==c?!0:!1})},trigger:function(c,d){var e=a(arguments,2),f=!1;this._callbacks=this._callbacks.filter(function(a){var g=!a.once;if(a.subject!==c)return!0;if(a.eventName!==d)return!0;var h=a.args||[];f=!0;try{a.action.apply(a.context||c,h.concat(e))}catch(i){c!==b||"error"!==d?b.trigger(b,"error",i):b._fatal(i)}return g}),c!==b||"error"!==d||f||b._fatal(arguments[2])},_fatal:function(a){setTimeout(function(){throw a},0)}};return b}"function"==typeof define&&define.amd?define("mem",[],b):a.mem=b()}(this);