!function(a){function b(){function a(a){return Array.prototype.slice.call(a)}return{_callbacks:[],on:function(a,b,c,d){this._callbacks.push({subject:a,eventName:b,action:c,once:d&&d.once})},off:function(a,b,c){this._callbacks=this._callbacks.filter(function(d){return d.subject!==a?!0:b&&d.eventName!==b?!0:c&&d.action!==c?!0:!1})},trigger:function(b,c){this._callbacks.forEach(function(d){if(!d.toRemove&&d.subject===b&&d.eventName===c){d.once&&(console.log("ro remove"),d.toRemove=!0);try{d.action.apply(b,a(arguments,2))}catch(e){console&&console.error&&console.error(e)}}}),this._callbacks=this._callbacks.filter(function(a){return!a.toRemove})}}}"function"==typeof define&&define.amd?define("mem",[],b):a.mem=b()}(this);